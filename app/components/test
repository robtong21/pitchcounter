import React from 'react'
import moment from 'moment'
import { Link } from 'react-router'

const Games = (props) => {
  const list = props.games
  return (
    <div>
      <h1>Select a game</h1>
      <ul>
      {list.map(game => {
        return (
          <div className="list-group-item" key={ game.id }>
            <Link to={`/games/${game.id}`}>{moment(game.date).utc().format('MMMM D, YYYY')}, {game.time} at {game.location} vs {game.team.name}</Link>
          </div>
        )
      })}
      </ul>
    </div>
  )
}

export default Games

--------------------------------------

import React from 'react'
import moment from 'moment'
import { Link } from 'react-router'
import { setOppTeam } from '../action-creators/opponents'
import { setCurrentGame } from '../action-creators/games'

class Games extends React.Component {
  constructor() {
    super()
    this.setOpp = this.setOpp.bind(this)
  }

  setOpp(game) {
    console.log('uoull!')
    console.log('game in setOpp', game)
    dispatch(setOppTeam(game.team))
    dispatch(setCurrentGame(game))
  }

  render() {
    return (
      <div>
        <h1>Select a game</h1>
        <ul>
        {this.props.games.map(game => {
          return (
            <div className="list-group-item" key={ game.id } onClick={this.setOpp}>
              <Link to={`/games/${game.id}`} >{moment(game.date).utc().format('MMMM D, YYYY')}, {game.time} at {game.location} vs {game.team.name}</Link>
            </div>
          )
        })}
        </ul>
      </div>
    )
  }
}

export default Games
